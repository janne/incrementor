<html>
  <script>
    chrome.browserAction.onClicked.addListener(function(tab) {

      // Catch last number
      var regexp = /\d+(?!.*\d+)/;
      var step = 1;
      var number = tab.url.match(regexp).toString();

      if (number != null) {
        var replace = (parseInt(number,10) + step).toString();

        // Handle zero padding
        if (number.match(/^0+/)) {
          var zeroes = number.match(/^0+/).toString().length + (parseInt(number,10).toString()).length - replace.length;
          for (var i=0; i<zeroes; i++) replace = "0" + replace;
        }

        chrome.tabs.update(tab.id, {url: tab.url.replace(regexp, replace)});
      }
    })
  </script>
</html>

